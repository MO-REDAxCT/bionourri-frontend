{"ast":null,"code":"import React,{useEffect,useReducer}from'react';import Button from'react-bootstrap/Button';import Card from'react-bootstrap/Card';import axios from'axios';import LoadingBox from'../components/LoadingBox';import MessageBox from'../components/MessageBox';import Product from'../components/Product';import Row from'react-bootstrap/Row';import Col from'react-bootstrap/Col';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function reducer(state,action){switch(action.type){case'loading':return{...state,loading:true};case'error':return{...state,loading:false,err:action.payload};case'products':return{loading:false,err:false,products:action.payload};default:return state;}}export default function HomeScreen(){const[state,dispatch]=useReducer(reducer,{products:[],loading:true,err:false});const{err,products}=state;const{loading}=state;useEffect(()=>{dispatch({type:'loading'});async function fetch_product(){try{const result=await axios.get('/products');dispatch({type:'products',payload:result.data});}catch(err){dispatch({type:'error',payload:err});}}fetch_product();},[dispatch]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Nos produits\"}),loading?/*#__PURE__*/_jsx(LoadingBox,{}):err?/*#__PURE__*/_jsx(MessageBox,{variant:\"danger\",err:err},'primary'):/*#__PURE__*/_jsx(\"div\",{className:\"products mb\",children:products.map(x=>/*#__PURE__*/_jsx(Product,{x:x},x.name))})]});}","map":{"version":3,"names":["React","useEffect","useReducer","Button","Card","axios","LoadingBox","MessageBox","Product","Row","Col","jsx","_jsx","jsxs","_jsxs","reducer","state","action","type","loading","err","payload","products","HomeScreen","dispatch","fetch_product","result","get","data","children","variant","className","map","x","name"],"sources":["C:/Users/RED38/Desktop/amazona/frontend/src/Screens/HomeScreen.js"],"sourcesContent":["import React, { useEffect, useReducer } from 'react'\r\nimport Button from 'react-bootstrap/Button';\r\nimport Card from 'react-bootstrap/Card';\r\nimport axios from 'axios'\r\nimport LoadingBox from '../components/LoadingBox';\r\nimport MessageBox from '../components/MessageBox';\r\nimport Product from '../components/Product';\r\nimport Row from 'react-bootstrap/Row';\r\nimport Col from 'react-bootstrap/Col';\r\n\r\nfunction reducer(state , action)\r\n{\r\n    switch(action.type)\r\n    {\r\n        case 'loading' : return {...state , loading:true}\r\n\r\n        case 'error' : return {...state , loading:false , err:action.payload}\r\n\r\n        case  'products' : return {loading : false , err : false , products : action.payload}\r\n\r\n        default : return state\r\n    }\r\n}\r\nexport default function HomeScreen() {\r\n    const [state , dispatch]    =   useReducer(reducer , {products : [],  loading : true , err:false})\r\n    const { err , products} = state\r\n    const {loading} = state\r\n    useEffect(()=>{\r\n        dispatch({type : 'loading'})\r\n            \r\n        async function fetch_product(){\r\n            try\r\n            {\r\n                const result = await axios.get('/products')\r\n                \r\n                dispatch({type:'products' , payload : result.data})\r\n            }catch(err)\r\n            {\r\n                dispatch({type:'error' , payload : err})\r\n            }\r\n            \r\n            \r\n        }\r\n        fetch_product()\r\n    } , [dispatch])\r\n  return (\r\n    <div><h1>Nos produits</h1>\r\n    {loading ? \r\n            <LoadingBox></LoadingBox>\r\n        : err ? \r\n            <MessageBox variant='danger'key='primary' err={err}></MessageBox>\r\n        :        \r\n    <div className='products mb' >\r\n      \r\n      {\r\n        products.map((x)=>(\r\n         \r\n          <Product key={x.name} x = {x}></Product>\r\n          \r\n        ))\r\n      }\r\n     \r\n      \r\n    </div>}</div>\r\n    \r\n  )\r\n}\r\n\r\n\r\n\r\n\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,UAAU,KAAQ,OAAO,CACpD,MAAO,CAAAC,MAAM,KAAM,wBAAwB,CAC3C,MAAO,CAAAC,IAAI,KAAM,sBAAsB,CACvC,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,UAAU,KAAM,0BAA0B,CACjD,MAAO,CAAAC,UAAU,KAAM,0BAA0B,CACjD,MAAO,CAAAC,OAAO,KAAM,uBAAuB,CAC3C,MAAO,CAAAC,GAAG,KAAM,qBAAqB,CACrC,MAAO,CAAAC,GAAG,KAAM,qBAAqB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAEtC,QAAS,CAAAC,OAAOA,CAACC,KAAK,CAAGC,MAAM,CAC/B,CACI,OAAOA,MAAM,CAACC,IAAI,EAEd,IAAK,SAAS,CAAG,MAAO,CAAC,GAAGF,KAAK,CAAGG,OAAO,CAAC,IAAI,CAAC,CAEjD,IAAK,OAAO,CAAG,MAAO,CAAC,GAAGH,KAAK,CAAGG,OAAO,CAAC,KAAK,CAAGC,GAAG,CAACH,MAAM,CAACI,OAAO,CAAC,CAErE,IAAM,UAAU,CAAG,MAAO,CAACF,OAAO,CAAG,KAAK,CAAGC,GAAG,CAAG,KAAK,CAAGE,QAAQ,CAAGL,MAAM,CAACI,OAAO,CAAC,CAErF,QAAU,MAAO,CAAAL,KAAK,CAC1B,CACJ,CACA,cAAe,SAAS,CAAAO,UAAUA,CAAA,CAAG,CACjC,KAAM,CAACP,KAAK,CAAGQ,QAAQ,CAAC,CAAQtB,UAAU,CAACa,OAAO,CAAG,CAACO,QAAQ,CAAG,EAAE,CAAGH,OAAO,CAAG,IAAI,CAAGC,GAAG,CAAC,KAAK,CAAC,CAAC,CAClG,KAAM,CAAEA,GAAG,CAAGE,QAAQ,CAAC,CAAGN,KAAK,CAC/B,KAAM,CAACG,OAAO,CAAC,CAAGH,KAAK,CACvBf,SAAS,CAAC,IAAI,CACVuB,QAAQ,CAAC,CAACN,IAAI,CAAG,SAAS,CAAC,CAAC,CAE5B,cAAe,CAAAO,aAAaA,CAAA,CAAE,CAC1B,GACA,CACI,KAAM,CAAAC,MAAM,CAAG,KAAM,CAAArB,KAAK,CAACsB,GAAG,CAAC,WAAW,CAAC,CAE3CH,QAAQ,CAAC,CAACN,IAAI,CAAC,UAAU,CAAGG,OAAO,CAAGK,MAAM,CAACE,IAAI,CAAC,CAAC,CACvD,CAAC,MAAMR,GAAG,CACV,CACII,QAAQ,CAAC,CAACN,IAAI,CAAC,OAAO,CAAGG,OAAO,CAAGD,GAAG,CAAC,CAAC,CAC5C,CAGJ,CACAK,aAAa,CAAC,CAAC,CACnB,CAAC,CAAG,CAACD,QAAQ,CAAC,CAAC,CACjB,mBACEV,KAAA,QAAAe,QAAA,eAAKjB,IAAA,OAAAiB,QAAA,CAAI,cAAY,CAAI,CAAC,CACzBV,OAAO,cACAP,IAAA,CAACN,UAAU,GAAa,CAAC,CAC3Bc,GAAG,cACDR,IAAA,CAACL,UAAU,EAACuB,OAAO,CAAC,QAAQ,CAAcV,GAAG,CAAEA,GAAI,EAAnB,SAAgC,CAAC,cAEzER,IAAA,QAAKmB,SAAS,CAAC,aAAa,CAAAF,QAAA,CAGxBP,QAAQ,CAACU,GAAG,CAAEC,CAAC,eAEbrB,IAAA,CAACJ,OAAO,EAAcyB,CAAC,CAAIA,CAAE,EAAfA,CAAC,CAACC,IAAuB,CAExC,CAAC,CAID,CAAC,EAAM,CAAC,CAGjB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}