{"ast":null,"code":"import React,{useEffect,useState}from'react';import Form from'react-bootstrap/Form';import Button from'react-bootstrap/esm/Button';import Container from'react-bootstrap/esm/Container';import{Link}from'react-router-dom';import Toast from'react-bootstrap/Toast';import LoadingBox from'../components/LoadingBox';import axios from'axios';import{useNavigate,useLocation}from'react-router-dom';import{useContext}from'react';import{Store}from'../Store';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function SignupScreen(){const[name,setName]=useState('');const[email,setEmail]=useState('');const[password,setPassword]=useState('');const[confirmPassword,setConPassword]=useState('');const[t_state,setT_state]=useState({err:'',loading:''});const{err,loading}=t_state;const Navigate=useNavigate();const{search}=useLocation();const redirectUrl=new URLSearchParams(search).get('redirect');const redirect=redirectUrl?redirectUrl:'/';const{state,dispatch}=useContext(Store);async function handleSubmit(e){e.preventDefault();let result;if(password===confirmPassword){try{result=await axios.post('/api/users/signup',{name:name,email:email,password:password});console.log(500);}catch(error){result=error.response;}console.log(typeof result.data);if(\"\".concat(typeof result.data)==='object'){dispatch({type:'USER_SIGNIN',payload:result.data});Navigate(\"\".concat(redirect));}else{console.log(\"hola machi jay\");setT_state({err:result.data,loading:false});}}else{setT_state({err:'The Confirm password does not match',loading:false});}}return/*#__PURE__*/_jsxs(Container,{style:{textAlign:'left',maxWidth:'45rem'},children:[/*#__PURE__*/_jsx(\"h1\",{className:\"mb-3 mt-3\",children:\"Shipping address\"}),/*#__PURE__*/_jsxs(Form,{style:{textAlign:'left',maxWidth:'45rem'},onSubmit:e=>{handleSubmit(e);},children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Name\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",defaultValue:name,onChange:e=>{setName(e.target.value);}})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Email\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",defaultValue:email,onChange:e=>{setEmail(e.target.value);}})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",defaultValue:password,onChange:e=>{setPassword(e.target.value);}})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Confirm Password\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",defaultValue:confirmPassword,onChange:e=>{setConPassword(e.target.value);}})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",className:\"mb-2 wb\",onClick:()=>{setT_state({err:'',loading:true});},children:\"Continue\"})]}),/*#__PURE__*/_jsx(Form.Text,{children:/*#__PURE__*/_jsxs(\"p\",{className:\"ft_2\",children:[\"Already have an account ? \",/*#__PURE__*/_jsx(Link,{to:\"/signin}\",children:\"      Sign in\"})]})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Toast,{style:{maxWidth:'40%',position:\"absolute\",top:'15%',left:'60%',textAlign:'center',fontSize:'16px',fontWeight:'400',backgroundColor:'transparent',border:'0',boxShadow:'none'},onClose:()=>{setT_state({...t_state,loading:false});},show:loading,delay:10000,autohide:true,children:/*#__PURE__*/_jsx(Toast.Body,{children:/*#__PURE__*/_jsx(LoadingBox,{})})}),/*#__PURE__*/_jsx(Toast,{style:{maxWidth:'40%',position:\"absolute\",top:'15%',left:'60%',zIndex:9999,textAlign:'center',fontSize:'16px',fontWeight:'400'},bg:\"warning\",onClose:()=>{setT_state({...t_state,err:false});},show:err,delay:1000,autohide:true,children:/*#__PURE__*/_jsx(Toast.Body,{children:err})})]})]});}","map":{"version":3,"names":["React","useEffect","useState","Form","Button","Container","Link","Toast","LoadingBox","axios","useNavigate","useLocation","useContext","Store","jsx","_jsx","jsxs","_jsxs","SignupScreen","name","setName","email","setEmail","password","setPassword","confirmPassword","setConPassword","t_state","setT_state","err","loading","Navigate","search","redirectUrl","URLSearchParams","get","redirect","state","dispatch","handleSubmit","e","preventDefault","result","post","console","log","error","response","data","concat","type","payload","style","textAlign","maxWidth","children","className","onSubmit","Group","Label","Control","defaultValue","onChange","target","value","onClick","Text","to","position","top","left","fontSize","fontWeight","backgroundColor","border","boxShadow","onClose","show","delay","autohide","Body","zIndex","bg"],"sources":["C:/Users/RED38/Desktop/amazona/frontend/src/Screens/SignupScreen.js"],"sourcesContent":["import React , { useEffect, useState } from 'react'\r\nimport Form from 'react-bootstrap/Form';\r\nimport Button from 'react-bootstrap/esm/Button';\r\nimport Container from 'react-bootstrap/esm/Container';\r\nimport { Link } from 'react-router-dom';\r\nimport Toast from 'react-bootstrap/Toast';\r\nimport LoadingBox from '../components/LoadingBox';\r\nimport axios from 'axios'\r\nimport { useNavigate , useLocation} from 'react-router-dom';\r\nimport { useContext } from 'react';\r\nimport { Store } from '../Store';\r\n\r\n\r\nexport default function SignupScreen() {\r\n\r\n    \r\n   const [name , setName] = useState('')\r\n   const [email , setEmail] = useState('')\r\n   const [password , setPassword]  = useState('')\r\n   const [confirmPassword , setConPassword] = useState('')\r\n   const [t_state , setT_state] = useState({err : '' , loading : ''})\r\n   const {err , loading} = t_state\r\n   const Navigate = useNavigate()\r\n   const {search} = useLocation()\r\n   const redirectUrl = new URLSearchParams(search).get('redirect')\r\n   const redirect = redirectUrl ? redirectUrl : '/'\r\n   const {state , dispatch} = useContext(Store)\r\n\r\n   async function handleSubmit(e)\r\n        {\r\n            e.preventDefault()\r\n            let result\r\n      \r\n    if(password === confirmPassword)\r\n      {\r\n         try\r\n         {\r\n           result =  await axios.post('/api/users/signup' , {name : name , email : email , password : password})\r\n           console.log(500)\r\n         }\r\n         catch(error)\r\n         {\r\n           result = error.response\r\n           \r\n         }\r\n           \r\n         console.log(typeof(result.data))\r\n         if(`${typeof(result.data)}` === 'object')\r\n           {\r\n             \r\n               dispatch({type:'USER_SIGNIN' , payload:result.data})  \r\n                  \r\n               Navigate(`${redirect}`)\r\n           }\r\n         else\r\n           {\r\n             console.log(\"hola machi jay\")\r\n             \r\n             setT_state({err:result.data , loading:false})\r\n             \r\n           }\r\n      }\r\n      \r\n      else\r\n         {\r\n            setT_state({err:'The Confirm password does not match' , loading:false})\r\n         }\r\n        \r\n        }\r\n  return (\r\n    <Container style={{textAlign:'left', maxWidth:'45rem'}}>\r\n        <h1 className='mb-3 mt-3'>Shipping address</h1>\r\n        <Form style={{textAlign:'left', maxWidth:'45rem'}} onSubmit={(e)=>{handleSubmit(e)}}>\r\n             <Form.Group className=\"mb-3\">\r\n\r\n                <Form.Label>Name</Form.Label>\r\n                <Form.Control  type=\"text\"  defaultValue={name} onChange={(e)=>{setName(e.target.value)}}/>\r\n\r\n             </Form.Group>\r\n             <Form.Group className=\"mb-3\">\r\n\r\n                <Form.Label>Email</Form.Label>\r\n                <Form.Control  type=\"text\"  defaultValue={email} onChange={(e)=>{setEmail(e.target.value)}}/>\r\n\r\n             </Form.Group>\r\n             <Form.Group className=\"mb-3\" >\r\n\r\n                <Form.Label>Password</Form.Label>\r\n                <Form.Control  type=\"text\"  defaultValue={password} onChange={(e)=>{setPassword(e.target.value)}}/>\r\n\r\n             </Form.Group>\r\n             <Form.Group className=\"mb-3\">\r\n\r\n                <Form.Label>Confirm Password</Form.Label>\r\n                <Form.Control  type=\"text\"   defaultValue={confirmPassword} onChange={(e)=>{setConPassword(e.target.value)}}/>\r\n\r\n             </Form.Group>\r\n             <Button type='submit' className='mb-2 wb' onClick={()=>{ setT_state({err:'' , loading:true})}}>Continue</Button>\r\n        </Form>\r\n        <Form.Text><p className='ft_2'>Already have an account ? <Link to={`/signin}`}>      Sign in</Link></p></Form.Text>\r\n\r\n        <div>\r\n         <Toast  style={{maxWidth:'40%' ,  position: \"absolute\", top:'15%' , left:'60%'  ,textAlign:'center' , fontSize:'16px' , fontWeight:'400', backgroundColor:'transparent' , border:'0' , boxShadow:'none'}}  onClose={()=>{setT_state({...t_state , loading : false})}}  show={loading} delay={10000} autohide>\r\n               <Toast.Body>\r\n               <LoadingBox ></LoadingBox>\r\n               </Toast.Body>\r\n               </Toast>\r\n          <Toast  style={{maxWidth:'40%' ,  position: \"absolute\", top:'15%' , left:'60%' ,zIndex: 9999 ,textAlign:'center' , fontSize:'16px' , fontWeight:'400'}} bg='warning' onClose={()=>{setT_state({...t_state  ,err : false})}}  show={err} delay={1000} autohide>\r\n               <Toast.Body>\r\n                  {err}\r\n               </Toast.Body>\r\n            </Toast>\r\n    \r\n         </div>\r\n        </Container>\r\n  )\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}