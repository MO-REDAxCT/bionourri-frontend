{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\RED38\\\\Desktop\\\\amazona\\\\frontend\\\\src\\\\Screens\\\\orderHistoryScreen.js\",\n  _s = $RefreshSig$();\nimport React, { useContext, useEffect } from 'react';\nimport Container from 'react-bootstrap/esm/Container';\nimport Row from 'react-bootstrap/esm/Row';\nimport Col from 'react-bootstrap/esm/Col';\nimport { useReducer } from 'react';\nimport { Store } from '../Store';\nimport axios from 'axios';\nimport LoadingBox from '../components/LoadingBox';\nimport MessageBox from '../components/MessageBox';\nimport Button from 'react-bootstrap/esm/Button';\nimport { Link } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction reducer(state, action) {\n  switch (action.type) {\n    case 'ORDERS_REQ':\n      return {\n        ...state,\n        loading: true\n      };\n      break;\n    case 'ORDERS_ERR':\n      console.log(\"err inside reducer \", action.payload);\n      return {\n        ...state,\n        err: action.payload,\n        loading: false\n      };\n      break;\n    case 'ORDERS_SUCC':\n      console.log(\"order succ inside reducccer\");\n      return {\n        ...state,\n        err: false,\n        loading: false,\n        orders: action.payload\n      };\n      break;\n    default:\n      return state;\n  }\n}\nexport default function OrderHistoryScreen() {\n  _s();\n  const [{\n    err,\n    loading,\n    orders\n  }, dispatch] = useReducer(reducer, {\n    err: false,\n    loading: true\n  });\n  const {\n    state\n  } = useContext(Store);\n  const {\n    userinfo\n  } = state;\n  console.log('loding', loading);\n  useEffect(() => {\n    dispatch({\n      type: 'ORDERS_REQ'\n    });\n    async function fetch_orders() {\n      try {\n        const result = await axios.get(`/api/order/all`, {\n          headers: {\n            authorization: `Bearer ${userinfo.token}`\n          }\n        });\n        console.log(\"dispatch succ\");\n        console.log(\"result \", result);\n        dispatch({\n          type: 'ORDERS_SUCC',\n          payload: result.data\n        });\n      } catch (err) {\n        console.log(\"err inside catch\", err.message);\n        dispatch({\n          type: 'ORDERS_ERR',\n          payload: err\n        });\n      }\n    }\n    fetch_orders();\n  }, [userinfo.token]);\n  return loading ? /*#__PURE__*/_jsxDEV(LoadingBox, {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 8\n  }, this) : err ? /*#__PURE__*/_jsxDEV(Container, {\n    children: /*#__PURE__*/_jsxDEV(MessageBox, {\n      variant: \"danger\",\n      err: err\n    }, 'primary', false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 71,\n    columnNumber: 9\n  }, this) : /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Order History\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      className: \"mt-4\",\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        lg: \"4\",\n        children: /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"ID\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        children: /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"DATE\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        children: /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"TOTAL\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        children: /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"DELIVRED\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        children: /*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"ACTIONS\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, this), orders.map(x => {\n      return /*#__PURE__*/_jsxDEV(Row, {\n        className: \"mt-4\",\n        children: [/*#__PURE__*/_jsxDEV(Col, {\n          lg: \"4\",\n          children: x._id\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          children: new Date(x.createdAt).toLocaleDateString()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          children: x.totalPrice\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          children: x.isDelivered ? \"Delivered\" : \"Not Delivered\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Col, {\n          children: /*#__PURE__*/_jsxDEV(Link, {\n            to: `/order/${x._id}`,\n            \"mg-b\": \"0\",\n            children: /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"primary\",\n              className: \"m-2\",\n              children: \"add to cart\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 16\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 24\n      }, this);\n    })]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 9\n  }, this);\n}\n_s(OrderHistoryScreen, \"tZV1jqd7u7nVep7wX3SXJ5/1nl8=\");\n_c = OrderHistoryScreen;\nvar _c;\n$RefreshReg$(_c, \"OrderHistoryScreen\");","map":{"version":3,"names":["React","useContext","useEffect","Container","Row","Col","useReducer","Store","axios","LoadingBox","MessageBox","Button","Link","jsxDEV","_jsxDEV","reducer","state","action","type","loading","console","log","payload","err","orders","OrderHistoryScreen","_s","dispatch","userinfo","fetch_orders","result","get","headers","authorization","token","data","message","fileName","_jsxFileName","lineNumber","columnNumber","children","variant","className","lg","map","x","_id","Date","createdAt","toLocaleDateString","totalPrice","isDelivered","to","_c","$RefreshReg$"],"sources":["C:/Users/RED38/Desktop/amazona/frontend/src/Screens/orderHistoryScreen.js"],"sourcesContent":["import React, { useContext, useEffect } from 'react'\r\nimport Container from 'react-bootstrap/esm/Container'\r\nimport Row from 'react-bootstrap/esm/Row';\r\nimport Col from 'react-bootstrap/esm/Col';\r\nimport { useReducer} from 'react';\r\nimport { Store } from '../Store';\r\nimport axios from 'axios';\r\nimport LoadingBox from '../components/LoadingBox';\r\nimport MessageBox from '../components/MessageBox';\r\nimport Button from 'react-bootstrap/esm/Button';\r\nimport { Link } from 'react-router-dom';\r\n\r\nfunction reducer(state , action)\r\n    {\r\n        switch(action.type)\r\n            {\r\n                case 'ORDERS_REQ' : \r\n                    return {...state , loading : true}    \r\n                    break;\r\n\r\n                case 'ORDERS_ERR' : \r\n                    console.log(\"err inside reducer \" , action.payload)\r\n                    return {...state , err : action.payload , loading : false}    \r\n                    break;\r\n\r\n                case 'ORDERS_SUCC'    :\r\n                    console.log(\"order succ inside reducccer\" )\r\n                    return {...state , err : false , loading : false , orders : action.payload}\r\n                    break;\r\n                default:\r\n                    return state    \r\n            }\r\n\r\n    }\r\nexport default function OrderHistoryScreen() {\r\n\r\n    const [{err , loading , orders} , dispatch] = useReducer(reducer , {err : false , loading : true})\r\n    const {state} = useContext(Store)\r\n    const {userinfo} = state\r\n    console.log('loding' , loading)\r\n    useEffect(()=>{\r\n        dispatch({type : 'ORDERS_REQ'})\r\n\r\n        async function fetch_orders()\r\n            {\r\n                try{\r\n                    const result = await axios.get(`/api/order/all`  , {\r\n                        headers : \r\n                            {\r\n                                authorization :  `Bearer ${userinfo.token}`\r\n                            }\r\n                    })          \r\n                    console.log(\"dispatch succ\")\r\n                    console.log(\"result \" , result)\r\n                    dispatch({type : 'ORDERS_SUCC' , payload : result.data})\r\n                }\r\n                catch(err){\r\n                        console.log(\"err inside catch\" , err.message)\r\n                        dispatch({type : 'ORDERS_ERR' , payload : err})\r\n                }\r\n            }\r\n\r\n            fetch_orders()\r\n    } , [userinfo.token])\r\n  return (\r\n    \r\n    loading ? \r\n       <LoadingBox></LoadingBox>\r\n\r\n    : err ? \r\n        <Container>\r\n        <MessageBox variant='danger'key='primary' err={err}></MessageBox>\r\n        </Container>\r\n    :      \r\n    \r\n        <Container>\r\n            <h1>Order History</h1>\r\n\r\n            <Row className='mt-4'>\r\n                <Col lg = '4'>\r\n                    <strong>ID</strong>\r\n                </Col>\r\n                <Col>\r\n                    <strong>DATE</strong>\r\n                </Col>\r\n                <Col>\r\n                    <strong>TOTAL</strong>\r\n                </Col>\r\n                <Col>\r\n                    <strong>DELIVRED</strong>\r\n                </Col>\r\n                <Col>\r\n                    <strong>ACTIONS</strong>\r\n                </Col>\r\n            </Row>\r\n            {\r\n                orders.map((x)=>{\r\n                    \r\n                return <Row className='mt-4'>\r\n                <Col lg = '4'>\r\n                    {x._id}\r\n                </Col>\r\n                <Col>\r\n                    {new Date(x.createdAt).toLocaleDateString()}\r\n                </Col>\r\n                <Col>\r\n                    {x.totalPrice}\r\n                </Col>\r\n                <Col>\r\n                    {x.isDelivered ? \"Delivered\" : \"Not Delivered\"}\r\n                </Col>\r\n                <Col>\r\n                <Link to={`/order/${x._id}`} mg-b='0'>\r\n               <Button variant=\"primary\" className='m-2'>add to cart</Button>\r\n              </Link>    \r\n                </Col>\r\n            </Row>\r\n                })\r\n            }\r\n            \r\n        </Container>\r\n        \r\n)\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}